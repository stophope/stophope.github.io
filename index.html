<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>水果购物网站</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f0f8ff;
            color: #333;
        }
        h1 {
            text-align: center;
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 30px;
        }
        .fruit-list {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            max-width: 1200px;
            margin: 0 auto;
        }
        .fruit-item {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            margin: 15px;
            width: 250px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        .fruit-item:hover {
            transform: translateY(-5px);
        }
        .fruit-item img {
            width: 200px;
            height: 150px;
            object-fit: cover;
            border-radius: 15px;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border: none;
            padding: 4px;
        }
        .fruit-item:hover img {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }
        .fruit-item h3 {
            color: #2c3e50;
            margin: 15px 0;
        }
        .fruit-item p {
            color: #7f8c8d;
            font-weight: bold;
        }
        .fruit-item button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .fruit-item button:hover {
            background-color: #2980b9;
            transform: scale(1.05);
        }
        .fruit-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: #e74c3c;
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            z-index: 2;
        }
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        button:hover {
            background-color: #2980b9;
        }
        #cart {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.15);
            max-width: 350px;
            transition: all 0.3s ease;
            z-index: 1000;
            border: 2px solid #3498db;
        }
        #cart.show {
            transform: translateY(0);
        }
        #cart.hide {
            transform: translateY(120%);
        }
        #cart-items {
            margin-bottom: 15px;
            max-height: 300px;
            overflow-y: auto;
        }
        #cart h3 {
            color: #2c3e50;
            margin-top: 0;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        #cart p {
            margin: 10px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #ecf0f1;
            padding: 5px 10px;
            border-radius: 5px;
        }
        #cart-total {
            font-weight: bold;
            color: #e74c3c;
            font-size: 1.2em;
        }
        .cart-item-buttons {
            display: flex;
            gap: 5px;
        }
        .cart-item-buttons button {
            padding: 5px 10px;
            font-size: 14px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .cart-item-buttons button:hover {
            background-color: #2980b9;
        }
        #cart-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
        }
        #cart-actions button {
            width: 48%;
            padding: 10px;
            font-size: 16px;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        #cart-actions button:first-child {
            background-color: #2ecc71;
        }
        #cart-actions button:first-child:hover {
            background-color: #27ae60;
        }
        #cart-actions button:last-child {
            background-color: #e74c3c;
        }
        #cart-actions button:last-child:hover {
            background-color: #c0392b;
        }
        .search-container {
            max-width: 600px;
            margin: 20px auto;
            text-align: center;
        }
        #search-input {
            width: 70%;
            padding: 10px;
            font-size: 16px;
            border: 1px solid #ddd;
            border-radius: 5px 0 0 5px;
        }
        #search-button {
            padding: 10px 20px;
            font-size: 16px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 0 5px 5px 0;
            cursor: pointer;
        }
        #search-button:hover {
            background-color: #2980b9;
        }
        /* 为每种水果设置特定的背景颜色 */
        .fruit-item.apple img { background-color: #ff0800; }
        .fruit-item.banana img { background-color: #ffd700; }
        .fruit-item.orange img { background-color: #ffa500; }
        .fruit-item.grape img { background-color: #800080; }
        .fruit-item.watermelon img { background-color: #ff6347; }
        .fruit-item.strawberry img { background-color: #ff69b4; }
        .fruit-item.mango img { background-color: #ffd700; }
        .fruit-item.cherry img { background-color: #8b0000; }
        .fruit-item.kiwi img { background-color: #9acd32; }
        .fruit-item.pineapple img { background-color: #ffd700; }
        .fruit-item.plum {
            background-color: #f3e5f5; /* 淡紫色背景 */
        }
        .fruit-item.plum h3 {
            color: #4a148c; /* 深紫色文字 */
        }
        .fruit-item.plum p {
            color: #6a1b9a; /* 紫色价格文字 */
        }
        .fruit-item.plum button {
            background-color: #8e24aa; /* 紫色按钮 */
        }
        .fruit-item.plum button:hover {
            background-color: #6a1b9a; /* 深紫色悬停效果 */
        }
        .fruit-item.peach img { background-color: #ffdab9; }

        /* 苹果 */
        .fruit-item.apple {
            background-color: #ffebee;
        }
        .fruit-item.apple h3 {
            color: #c62828;
        }
        .fruit-item.apple p {
            color: #e53935;
        }
        .fruit-item.apple button {
            background-color: #ef5350;
        }
        .fruit-item.apple button:hover {
            background-color: #d32f2f;
        }

        /* 香蕉 */
        .fruit-item.banana {
            background-color: #fff9c4;
        }
        .fruit-item.banana h3 {
            color: #f9a825;
        }
        .fruit-item.banana p {
            color: #fbc02d;
        }
        .fruit-item.banana button {
            background-color: #ffeb3b;
            color: #333;
        }
        .fruit-item.banana button:hover {
            background-color: #fdd835;
        }

        /* 橙子 */
        .fruit-item.orange {
            background-color: #fff3e0;
        }
        .fruit-item.orange h3 {
            color: #e65100;
        }
        .fruit-item.orange p {
            color: #f57c00;
        }
        .fruit-item.orange button {
            background-color: #ffa726;
        }
        .fruit-item.orange button:hover {
            background-color: #fb8c00;
        }

        /* 葡萄 */
        .fruit-item.grape {
            background-color: #f3e5f5;
        }
        .fruit-item.grape h3 {
            color: #6a1b9a;
        }
        .fruit-item.grape p {
            color: #8e24aa;
        }
        .fruit-item.grape button {
            background-color: #ab47bc;
        }
        .fruit-item.grape button:hover {
            background-color: #8e24aa;
        }

        /* 西瓜 */
        .fruit-item.watermelon {
            background-color: #e8f5e9;
        }
        .fruit-item.watermelon h3 {
            color: #1b5e20;
        }
        .fruit-item.watermelon p {
            color: #2e7d32;
        }
        .fruit-item.watermelon button {
            background-color: #66bb6a;
        }
        .fruit-item.watermelon button:hover {
            background-color: #43a047;
        }

        /* 草莓 */
        .fruit-item.strawberry {
            background-color: #fce4ec;
        }
        .fruit-item.strawberry h3 {
            color: #880e4f;
        }
        .fruit-item.strawberry p {
            color: #ad1457;
        }
        .fruit-item.strawberry button {
            background-color: #ec407a;
        }
        .fruit-item.strawberry button:hover {
            background-color: #d81b60;
        }

        /* 芒果 */
        .fruit-item.mango {
            background-color: #fff8e1;
        }
        .fruit-item.mango h3 {
            color: #ff6f00;
        }
        .fruit-item.mango p {
            color: #ff8f00;
        }
        .fruit-item.mango button {
            background-color: #ffca28;
            color: #333;
        }
        .fruit-item.mango button:hover {
            background-color: #ffb300;
        }

        /* 樱桃 */
        .fruit-item.cherry {
            background-color: #ffebee;
        }
        .fruit-item.cherry h3 {
            color: #b71c1c;
        }
        .fruit-item.cherry p {
            color: #c62828;
        }
        .fruit-item.cherry button {
            background-color: #ef5350;
        }
        .fruit-item.cherry button:hover {
            background-color: #e53935;
        }

        /* 猕猴桃 */
        .fruit-item.kiwi {
            background-color: #f1f8e9;
        }
        .fruit-item.kiwi h3 {
            color: #33691e;
        }
        .fruit-item.kiwi p {
            color: #558b2f;
        }
        .fruit-item.kiwi button {
            background-color: #8bc34a;
        }
        .fruit-item.kiwi button:hover {
            background-color: #7cb342;
        }

        /* 菠萝 */
        .fruit-item.pineapple {
            background-color: #fffde7;
        }
        .fruit-item.pineapple h3 {
            color: #f57f17;
        }
        .fruit-item.pineapple p {
            color: #fbc02d;
        }
        .fruit-item.pineapple button {
            background-color: #ffeb3b;
            color: #333;
        }
        .fruit-item.pineapple button:hover {
            background-color: #fdd835;
        }

        /* 李子（保持原样） */
        .fruit-item.plum {
            background-color: #f3e5f5;
        }
        .fruit-item.plum h3 {
            color: #4a148c;
        }
        .fruit-item.plum p {
            color: #6a1b9a;
        }
        .fruit-item.plum button {
            background-color: #8e24aa;
        }
        .fruit-item.plum button:hover {
            background-color: #6a1b9a;
        }

        /* 桃子 */
        .fruit-item.peach {
            background-color: #fce4ec;
        }
        .fruit-item.peach h3 {
            color: #d81b60;
        }
        .fruit-item.peach p {
            color: #ec407a;
        }
        .fruit-item.peach button {
            background-color: #f06292;
        }
        .fruit-item.peach button:hover {
            background-color: #e91e63;
        }

        .color-picker {
            margin-top: 15px;
            text-align: center;
        }

        #color-slider {
            width: 100%;
            margin-bottom: 5px;
        }

        .color-picker label {
            font-size: 14px;
            color: #333;
        }
    </style>
</head>
<body>
    <h1>欢迎来到水果购物网站</h1>
    
    <div class="search-container">
        <input type="text" id="search-input" placeholder="搜索水果...">
        <button id="search-button" onclick="searchFruits()">搜索</button>
    </div>

    <div class="fruit-list">
        <div class="fruit-item apple">
            <div class="fruit-badge">热卖</div>
            <a href="apple-details.html">
                <img src="https://img0.baidu.com/it/u=3098812133,3165117834&fm=253&app=120&size=w931&n=0&f=JPEG&fmt=auto?sec=1729702800&t=0f399052b5c93641e6530dbc38f67570" alt="苹果">
            </a>
            <h3>苹果</h3>
            <p>价格: ¥5.00/个</p>
            <button onclick="addToCart('苹果', 5)">加入购物车</button>
        </div>
        <div class="fruit-item banana">
            <div class="fruit-badge">特价</div>
            <a href="banana-details.html">
                <img src="https://ts1.cn.mm.bing.net/th?id=OIP-C.3_xP9Bsq4oxzjTav-HOUQgHaE8&w=306&h=204&c=8&rs=1&qlt=90&o=6&dpr=1.5&pid=3.1&rm=2" alt="香蕉">
            </a>
            <h3>香蕉</h3>
            <p>价格: ¥3.50/斤</p>
            <button onclick="addToCart('香蕉', 3.5)">加入购物车</button>
        </div>
        <div class="fruit-item orange">
            <div class="fruit-badge">热卖</div>
            <img src="http://t14.baidu.com/it/u=972757146,875690075&fm=224&app=112&f=JPEG?w=500&h=500" alt="橙子">
            <h3>橙子</h3>
            <p>价格: ¥4.50/个</p>
            <button onclick="addToCart('橙子', 4.5)">加入购物车</button>
        </div>
        <div class="fruit-item grape">
            <img src="https://img1.baidu.com/it/u=1370130082,3941052553&fm=253&app=120&size=w931&n=0&f=JPEG&fmt=auto?sec=1729702800&t=46a1cf1d908562872069130b424ffdc0" alt="葡萄">
            <h3>葡萄</h3>
            <p>价格: ¥8.00/斤</p>
            <button onclick="addToCart('葡萄', 8)">加入购物车</button>
        </div>
        <div class="fruit-item watermelon">
            <img src="https://img1.baidu.com/it/u=756390168,3183814950&fm=253&app=138&size=w931&n=0&f=JPEG&fmt=auto?sec=1729702800&t=6cad9201c704caba5fee196ec5216a78" alt="西瓜">
            <h3>西瓜</h3>
            <p>价格: ¥2.50/斤</p>
            <button onclick="addToCart('西瓜', 2.5)">加入购物车</button>
        </div>
        <div class="fruit-item strawberry">
            <img src="https://img0.baidu.com/it/u=3995406730,3341573159&fm=253&fmt=auto&app=120&f=JPEG?w=500&h=632" alt="草莓">
            <h3>草莓</h3>
            <p>价格: ¥15.00/盒</p>
            <button onclick="addToCart('草莓', 15)">加入购物车</button>
        </div>
        <div class="fruit-item mango">
            <img src="https://img1.baidu.com/it/u=3772126428,88565532&fm=253&fmt=auto&app=120&f=JPEG?w=500&h=667" alt="芒果">
            <h3>芒果</h3>
            <p>价格: ¥7.00/个</p>
            <button onclick="addToCart('芒果', 7)">加入购物车</button>
        </div>
        <div class="fruit-item cherry">
            <img src="https://img0.baidu.com/it/u=4166360985,2119076383&fm=253&fmt=auto&app=120&f=JPEG?w=750&h=500" alt="樱桃">
            <h3>樱桃</h3>
            <p>价格: ¥20.00/斤</p>
            <button onclick="addToCart('樱桃', 20)">加入购物车</button>
        </div>
        <div class="fruit-item kiwi">
            <img src="https://img2.baidu.com/it/u=2309112559,2897830911&fm=253&fmt=auto&app=120&f=JPEG?w=500&h=500" alt="猕猴桃">
            <h3>猕猴桃</h3>
            <p>价格: ¥3.00/个</p>
            <button onclick="addToCart('猕猴桃', 3)">加入购物车</button>
        </div>
        <div class="fruit-item pineapple">
            <img src="https://img0.baidu.com/it/u=683333833,4040859823&fm=253&fmt=auto&app=120&f=JPEG?w=392&h=433" alt="菠萝">
            <h3>菠萝</h3>
            <p>价格: ¥10.00/个</p>
            <button onclick="addToCart('菠萝', 10)">加入购物车</button>
        </div>
        <div class="fruit-item plum">
            <img src="https://img0.baidu.com/it/u=92621659,2895291867&fm=253&fmt=auto&app=138&f=JPEG?w=750&h=500" alt="李子">
            <h3>李子</h3>
            <p>价格: ¥5.50/斤</p>
            <button onclick="addToCart('李子', 5.5)">加入购物车</button>
        </div>
        <div class="fruit-item peach">
            <img src="https://img1.baidu.com/it/u=2434046839,1910115892&fm=253&fmt=auto&app=120&f=JPEG?w=666&h=500" alt="桃子">
            <h3>桃子</h3>
            <p>价格: ¥4.00/个</p>
            <button onclick="addToCart('桃子', 4)">加入购物车</button>
        </div>
    </div>

    <div id="cart" class="hide">
        <h3>购物车</h3>
        <div id="cart-items"></div>
        <p>总计: ¥<span id="cart-total">0</span></p>
        <div id="cart-actions">
            <button onclick="goToCheckout()">去结算</button>
            <button onclick="clearCart()">清空购物车</button>
        </div>
        <div class="color-picker">
            <input type="range" id="color-slider" min="0" max="360" value="0">
            <label for="color-slider">调整背景颜色</label>
        </div>
    </div>

    <script>
        let cart = {};
        let total = 0;
        const cartElement = document.getElementById('cart');

        function addToCart(fruit, price) {
            if (cart[fruit]) {
                cart[fruit].quantity++;
            } else {
                cart[fruit] = { price: price, quantity: 1 };
            }
            total += price;
            updateCart();
            showCartNotification(fruit);
        }

        function updateCart() {
            let cartItems = document.getElementById('cart-items');
            cartItems.innerHTML = '';
            for (let fruit in cart) {
                cartItems.innerHTML += `
                    <p>
                        <span>${fruit}: ${cart[fruit].quantity} x ¥${cart[fruit].price.toFixed(2)}</span>
                        <span class="cart-item-buttons">
                            <button onclick="removeFromCart('${fruit}')">-</button>
                            <button onclick="addToCart('${fruit}', ${cart[fruit].price})">+</button>
                        </span>
                    </p>`;
            }
            document.getElementById('cart-total').textContent = total.toFixed(2);
            document.getElementById('cart').classList.remove('hide');
            document.getElementById('cart').classList.add('show');

            // 保持当前的背景颜色
            const currentHue = colorSlider.value;
            cartElement.style.backgroundColor = `hsl(${currentHue}, 100%, 95%)`;
        }

        function showCartNotification(fruit) {
            let notification = document.createElement('div');
            notification.textContent = `已将${fruit}加入购物车`;
            notification.style.position = 'fixed';
            notification.style.top = '20px';
            notification.style.right = '20px';
            notification.style.backgroundColor = '#2ecc71';
            notification.style.color = 'white';
            notification.style.padding = '10px 20px';
            notification.style.borderRadius = '5px';
            notification.style.opacity = '0';
            notification.style.transition = 'opacity 0.3s ease';
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.opacity = '1';
            }, 100);

            setTimeout(() => {
                notification.style.opacity = '0';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 2000);
        }

        function goToCheckout() {
            // 将购物车数据存储到 localStorage
            localStorage.setItem('cart', JSON.stringify(cart));
            localStorage.setItem('total', total);
            // 跳转到结算页面
            window.location.href = 'checkout.html';
        }

        function searchFruits() {
            const searchTerm = document.getElementById('search-input').value.toLowerCase();
            const fruitItems = document.querySelectorAll('.fruit-item');

            fruitItems.forEach(item => {
                const fruitName = item.querySelector('h3').textContent.toLowerCase();
                if (fruitName.includes(searchTerm)) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
        }

        function removeFromCart(fruit) {
            if (cart[fruit]) {
                total -= cart[fruit].price;
                cart[fruit].quantity--;
                if (cart[fruit].quantity === 0) {
                    delete cart[fruit];
                }
                updateCart();
            }
        }

        function clearCart() {
            cart = {};
            total = 0;
            updateCart();
            document.getElementById('cart').classList.add('hide');
            document.getElementById('cart').classList.remove('show');
        }

        // 为搜索输入框添加回车键事件监听
        document.getElementById('search-input').addEventListener('keyup', function(event) {
            if (event.key === 'Enter') {
                searchFruits();
            }
        });

        // 添加颜色调节功能
        const colorSlider = document.getElementById('color-slider');

        colorSlider.addEventListener('input', function() {
            const hue = this.value;
            cartElement.style.backgroundColor = `hsl(${hue}, 100%, 95%)`;
        });
    </script>
</body>
</html>
